---
layout: default
title: Blog Archive
navbar_title: Blog
---

<div class="row">
    <!-- Main Content -->
    <div class="col-lg-8">
        <div class="bg-white shadow-sm rounded-lg p-4 mb-4">
            <h2 class="mb-3">
                <i class="fas fa-archive"></i> Blog Archive
            </h2>
            <p class="text-muted">
                Browse all posts by year and month
            </p>
        </div>

        <!-- Archive Timeline -->
        {% assign sorted_posts = site.blogs | sort: "date" | reverse %}
        
        <!-- Check if a specific year is requested -->
        {% assign selected_year = page.year %}
        
        <!-- Filter posts by year if a year is selected -->
        {% if selected_year %}
            {% assign sorted_posts = sorted_posts | where_exp: "post", "post.date | date: '%Y' == selected_year" %}
        {% endif %}
        
        {% assign current_year = "" %}
        {% assign current_month = "" %}
        
        {% for post in sorted_posts %}
            {% assign post_year = post.date | date: "%Y" %}
            {% assign post_month = post.date | date: "%B" %}
            
            <!-- Only show year header if no specific year is selected -->
            {% if post_year != current_year and selected_year == nil %}
                {% if current_year != "" %}
                    </div> <!-- Close previous month -->
                </div> <!-- Close previous year -->
                {% endif %}
                <div class="timeline-year mb-4">
                    <h3 class="text-primary mb-3">{{ post_year }}</h3>
                    {% assign current_year = post_year %}
                    {% assign current_month = "" %}
            {% endif %}
            
            <!-- Show posts for the selected year or all years -->
            {% if selected_year == nil or selected_year == post_year %}
                {% if post_month != current_month %}
                    {% if current_month != "" %}
                        </div> <!-- Close previous month -->
                    {% endif %}
                    <div class="timeline-month mb-3">
                        <h4 class="text-secondary mb-2">{{ post_month }}</h4>
                        {% assign current_month = post_month %}
                {% endif %}
                
                <div class="mb-3">
                    {% include widgets/blog_item.html post=post %}
                </div>
            {% endif %}
        {% endfor %}
        
        {% if current_month != "" %}
            </div> <!-- Close last month -->
        {% endif %}
        {% if current_year != "" and selected_year == nil %}
            </div> <!-- Close last year -->
        {% endif %}
    </div>

    <!-- Sidebar -->
    <div class="col-lg-4">
        {% include widgets/blog_sidebar.html %}
    </div>
</div>
